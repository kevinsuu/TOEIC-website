(this["webpackJsonpvocabulary-quiz"]=this["webpackJsonpvocabulary-quiz"]||[]).push([[0],{110:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(77),s=n.n(a),i=n(57),o=n(6),l=n(167),j=n(169),h=n(170),b=n(162),d=n(166),O=n(165),u=n(164),x=n(2);const m=r.a.forwardRef((function(e,t){return Object(x.jsx)(u.a,{elevation:6,ref:t,variant:"filled",...e})}));var g=()=>{const{type:e}=Object(o.q)(),[t,n]=Object(c.useState)([]),[r,a]=Object(c.useState)({}),[s,i]=Object(c.useState)([]),[l,u]=Object(c.useState)(0),[g,v]=Object(c.useState)(0),[p,y]=Object(c.useState)(!1),[f,C]=Object(c.useState)([]),[S,k]=Object(c.useState)([]),[E,w]=Object(c.useState)(10),[B,q]=Object(c.useState)(!1),[D,I]=Object(c.useState)(!1),[M,z]=Object(c.useState)(""),A=Object(o.o)();Object(c.useEffect)((()=>{fetch("/vocabulary.json").then((e=>e.json())).then((e=>n(e)))}),[]);const R=Object(c.useCallback)(((t,n,c)=>{const r=[];for(;r.length<c;){const c=t[Math.floor(Math.random()*t.length)],a="cn-to-en"===e?c.English:c.Chinese;a===("cn-to-en"===e?n.English:n.Chinese)||r.includes(a)||r.push(a)}return r}),[e]),H=Object(c.useCallback)(((t,n)=>{const c=t[n],r="cn-to-en"===e?c.English:c.Chinese,s=R(t,c,3),o=F([r,...s]);a(c),i(o)}),[e,R]);Object(c.useEffect)((()=>{if(B&&t.length>0){const e=F(t).slice(0,E);C(e),H(e,0)}}),[B,t,E,H]),Object(c.useEffect)((()=>{f.length>0&&H(f,l)}),[l,f,H]);const F=e=>{for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e},J=e=>{const t=parseInt(e.target.value,10);t>100?(z("\u984c\u6578\u6700\u5927100\u984c"),I(!0),w(100)):t<1?(z("\u984c\u6578\u6700\u5c0f\u70ba1\u984c"),I(!0),w(1)):w(t)},L=()=>{E>100?(z("\u984c\u6578\u6700\u5927100\u984c"),I(!0)):E<1?(z("\u984c\u6578\u6700\u5c0f\u70ba1\u984c"),I(!0)):q(!0)},T=()=>{A("/")},G=()=>{I(!1)};return B?0===f.length?Object(x.jsx)("div",{children:"Loading..."}):Object(x.jsxs)(j.a,{children:[p?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(h.a,{variant:"h4",gutterBottom:!0,children:["\u6e2c\u9a57\u7d50\u675f\uff01\u60a8\u7684\u5f97\u5206\u662f ",g," / ",E]}),S.map(((t,n)=>Object(x.jsxs)(j.a,{mb:2,children:[Object(x.jsxs)(h.a,{variant:"h6",children:["\u554f\u984c ",n+1,": ","cn-to-en"===e?t.question.Chinese:t.question.English]}),Object(x.jsxs)(h.a,{variant:"body1",children:["\u6b63\u78ba\u7b54\u6848: ",t.correctAnswer]}),Object(x.jsxs)(h.a,{variant:"body1",color:t.isCorrect?"green":"red",children:["\u60a8\u7684\u7b54\u6848: ",t.selectedAnswer]})]},n))),Object(x.jsxs)(j.a,{mt:4,children:[Object(x.jsx)(d.a,{variant:"contained",color:"primary",onClick:()=>{q(!1),u(0),v(0),y(!1),C([]),k([])},style:{marginRight:"10px"},children:"\u91cd\u65b0\u6e2c\u9a57"}),Object(x.jsx)(d.a,{variant:"contained",color:"secondary",onClick:T,children:"\u56de\u5230\u9996\u9801"})]})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(h.a,{variant:"h4",gutterBottom:!0,children:["cn-to-en"===e?"\u4e2d\u7ffb\u82f1":"\u82f1\u7ffb\u4e2d"," \u6e2c\u9a57"]}),Object(x.jsx)(h.a,{variant:"h5",gutterBottom:!0,children:"cn-to-en"===e?r.Chinese:r.English}),Object(x.jsxs)(h.a,{variant:"body1",gutterBottom:!0,children:[l+1," / ",E]}),Object(x.jsx)(j.a,{display:"flex",flexDirection:"column",children:s.map(((t,n)=>Object(x.jsx)(d.a,{variant:"contained",color:"primary",onClick:()=>(t=>{const n="cn-to-en"===e?r.English:r.Chinese,c={question:r,correctAnswer:n,selectedAnswer:t,isCorrect:t===n};k([...S,c]),t===n&&v(g+1),l<E-1?u(l+1):y(!0)})(t),style:{margin:"5px 0",textTransform:"none"},children:t},n)))})]}),Object(x.jsx)(O.a,{open:D,autoHideDuration:3e3,onClose:G,children:Object(x.jsx)(m,{onClose:G,severity:"error",children:M})})]}):Object(x.jsxs)(j.a,{display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh",children:[Object(x.jsxs)(h.a,{variant:"h2",gutterBottom:!0,children:["\u958b\u59cb ","cn-to-en"===e?"\u4e2d\u7ffb\u82f1":"\u82f1\u7ffb\u4e2d"," \u6e2c\u9a57"]}),Object(x.jsxs)(j.a,{display:"flex",alignItems:"center",mt:2,children:[Object(x.jsx)(b.a,{label:"\u8f38\u5165\u984c\u6578",type:"number",value:E,onChange:J,variant:"outlined",margin:"normal",style:{marginRight:"8px"}}),Object(x.jsx)(d.a,{variant:"contained",color:"primary",onClick:L,style:{height:"56px"},children:"\u958b\u59cb\u6e2c\u9a57"})]}),Object(x.jsx)(d.a,{variant:"contained",color:"secondary",onClick:T,children:"\u56de\u5230\u9996\u9801"}),Object(x.jsx)(O.a,{open:D,autoHideDuration:3e3,onClose:G,children:Object(x.jsx)(m,{onClose:G,severity:"error",children:M})})]})};var v=()=>{const e=Object(o.o)(),t=t=>{e("/quiz/".concat(t))};return Object(x.jsxs)(j.a,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",children:[Object(x.jsx)(h.a,{variant:"h3",gutterBottom:!0,children:"\u591a\u76ca3000\u55ae\u5b57\u6e2c\u9a57"}),Object(x.jsx)(d.a,{variant:"contained",color:"primary",onClick:()=>t("cn-to-en"),style:{marginBottom:"10px",width:"200px"},children:"\u4e2d\u6587\u7ffb\u82f1\u6587"}),Object(x.jsx)(d.a,{variant:"contained",color:"secondary",onClick:()=>t("en-to-cn"),style:{marginBottom:"10px",width:"200px"},children:"\u82f1\u6587\u7ffb\u4e2d\u6587"})]})};var p=function(){return Object(x.jsx)(i.a,{children:Object(x.jsx)(l.a,{children:Object(x.jsxs)(o.c,{children:[Object(x.jsx)(o.a,{path:"/",element:Object(x.jsx)(v,{})}),Object(x.jsx)(o.a,{path:"/quiz/:type",element:Object(x.jsx)(g,{})})]})})})};const y=document.getElementById("root");s.a.createRoot(y).render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(p,{})}))}},[[110,1,2]]]);
//# sourceMappingURL=main.2236686c.chunk.js.map